name: github repository dispatch action
description: github repository dispatch action
author: RekGRpth
inputs:
  client-payload:
    description: github repository dispatch client payload
    default: '{}'
  event-type:
    description: github repository dispatch event type
    required: true
  repository:
    description: github repository dispatch repository
    default: ${{ github.repository }}
  token:
    description: github repository dispatch token
    required: true
runs:
  using: composite
  steps:
    - run: |
        set -eux
        curl -X POST -H "Accept: application/vnd.github.v3+json" https://${{ github.repository_owner }}:${{ inputs.token }}@api.github.com/repos/${{ inputs.repository }}/dispatches -d '{"event_type": "${{ inputs.event-type }}", "client_payload": ${{ inputs.client-payload }}}'
      shell: sh
